---
type: mechanic
system: level_design
tags: [proc_gen, pipeline, pois]
related_files:
  - "06_Generation_Strategies"
---

# Пайплайн Генерации Сектора

## 1. Контейнеры (Templates)
Сектор имеет жесткие границы и площадь (в гексах).
* *Пример:* `SEC_01` (Центральный Перекресток) — 54 гекса, Прямоугольник.
* *Пример:* `SEC_MAIN_05` (Промзона) — 120 гексов, Кольцо.

## 2. Шаги Генерации
1.  **Biome Injection:** В пустой шаблон заливается атмосфера (например, "Механический Улей").
2.  **Anchor POIs:** Расстановка ключевых структур (Вход в данж, Убежище).
    * *Правило:* 1 гарантированное Убежище на сектора размером > 40 hex.
3.  **Слой Связности (Connectors):**
    * **Rooftop Bridges:** Мостики между высокими зданиями (шанс 40%).
    * **Breaches:** Проломы в стенах, ведущие в переулки.
    * **Zip-Lines:** Тросы для спуска с высоты.

## 3. UI Интеграция
Генератор отдает JSON-структуру (`Map Data Protocol`) в UI, который отрисовывает векторную мини-карту (преграды, магазины, мосты).