---
type: mechanic
system: backend_save
tags: [database, transaction, wipe, safety]
related_files:
  - "[[Lang_RU/10_Mechanics/05_World_Systems/02_Generation/07_Server_Lifecycle|Server_Lifecycle]]"
  - "[[Lang_RU/10_Mechanics/04_Inventory_Gear/09_Stash_Architecture|Stash_Architecture]]"
---

# Гроссбух: Архитектура Сохранений

## 1. Модель "Check-in / Check-out"
В Элдрейне нет кнопки "Сохранить". Игра работает как транзакционная база данных.

### Состояния Данных
1.  **Hub State (Safe):** Данные о луте и персонаже сохраняются мгновенно при любом действии в инвентаре (переложил предмет -> запрос на сервер -> сохранено).
    * *Сбой:* Если сервер падает, пока вы в Хабе, отката (Rollback) не происходит, так как транзакции атомарны.
2.  **Raid State (Volatile):** При входе в рейд ("Саркофаг"), инвентарь персонажа "блокируется" в основной базе и переносится во временную сессию инстанса.
    * *Успех:* При экстракции временный инвентарь перезаписывает основной.
    * *Смерть:* Временный инвентарь уничтожается. В основной базе прописывается статус `Status: Dead`.
    * *Краш Сервера:* Если падает игровой сервер (Instance), срабатывает механизм `Loot Protection`: персонаж возвращается в Хаб в том состоянии, в котором зашел (Rollback на начало рейда).

## 2. Глобальная Персистентность (The Wipe)
Как указано в `Server_Lifecycle`, мир живет 6 часов.
* **Что исчезает:** Все изменения на карте (открытые двери, трупы, выброшенный лут) стираются каждые 6 часов.
* **Что остается:**
    1.  **Stash:** Содержимое схрона (Account Bound).
    2.  **Reputation:** Отношения с фракциями.
    3.  **Grimoire:** Открытые знания в энциклопедии.
    4.  **Blueprints:** Изученные чертежи.